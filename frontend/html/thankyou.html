<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Booking Confirmed - Travel Nest</title>
  <link rel="stylesheet" href="../css/resort.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    
    .thankyou-container {
      max-width: 600px;
      margin: 100px auto;
      padding: 40px;
      background: #fff;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      animation: fadeIn 0.8s ease;
    }
    .thankyou-container h1 {
      font-size: 2.5rem;
      color: #4CAF50;
      margin-bottom: 20px;
    }
    .thankyou-container p {
      font-size: 1.2rem;
      color: #555;
      margin-bottom: 30px;
    }
    .thankyou-container img {
      width: 150px;
      margin-bottom: 30px;
    }
    .thankyou-btn {
      display: inline-block;
      padding: 12px 25px;
      background-color: #1a73e8;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.3s ease;
    }
    .thankyou-btn:hover {
      background-color: #155ab6;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .user-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .profile-dropdown {
      position: relative;
      cursor: pointer;
    }

    .profile-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #f0f0f0;
      transition: background-color 0.3s ease;
    }

    .profile-icon i {
      font-size: 1.5rem;
      color: #008cff;
    }

    .profile-icon:hover {
      background: #e0e0e0;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: white;
      min-width: 200px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-radius: 8px;
      padding: 8px 0;
      z-index: 1000;
    }

    .user-info {
      padding: 12px 20px;
      border-bottom: 1px solid #eee;
      margin-bottom: 8px;
    }

    .user-info .user-name {
      display: block;
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
    }

    .user-info .user-email {
      display: block;
      font-size: 0.85rem;
      color: #666;
    }

    .dropdown-content a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      color: #333;
      text-decoration: none;
      transition: background-color 0.3s ease;
    }

    .dropdown-content a:hover {
      background: #f5f5f5;
    }

    .dropdown-content i {
      font-size: 1.1rem;
      color: #008cff;
    }

    .profile-dropdown:hover .dropdown-content {
      display: block;
    }
  </style>
</head>
<body>

 <nav class="navbar">
        <div class="hamburger">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="logo-container">
            <img src="../src/logo.png" alt="Travel Nest Logo" class="navbar-logo">
            <div class="logo-text">Travel Nest</div>
        </div>
        <div class="nav-links">
            <div class="nav-item">
                <a href="#" class="active"><i class="fas fa-home"></i> Home</a>
            </div>
            <div class="nav-item">
                <a href="#destinations"><i class="fas fa-map-marked-alt"></i> Destinations</a>
            </div>
            <div class="nav-item">
                <a href="#offers"><i class="fas fa-percent"></i> Offers</a>
            </div>
            <div class="nav-item">
                <a href="#contact"><i class="fas fa-envelope"></i> Contact Us</a>
            </div>
        </div>
        <div class="user-actions">
            <button id="signin-btn" class="sign-in">Sign In</button>
            <div class="profile-dropdown" style="display: none;">
                <div class="profile-icon">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="dropdown-content">
                    <div class="user-info">
                        <span class="user-name">Loading...</span>
                        <span class="user-email">Loading...</span>
                    </div>
                    <a href="/frontend/html/profile.html"><i class="fas fa-user"></i> My Profile</a>
                    <a href="#" id="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
    </nav>

<div class="thankyou-container">
  <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="Success Icon">
  <h1>Booking Confirmed!</h1>
  <p>Thank you for choosing Travel Nest. We look forward to hosting you! ðŸŒ´</p>
  <a href="../html/search.html" class="thankyou-btn">Explore More Resorts</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Profile dropdown functionality
        const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
        const userData = JSON.parse(localStorage.getItem('userData') || '{}');
        const signinBtn = document.getElementById('signin-btn');
        const profileDropdown = document.querySelector('.profile-dropdown');
        const logoutLink = document.getElementById('logout-link');
        const userName = document.querySelector('.user-name');
        const userEmail = document.querySelector('.user-email');

        if (signinBtn && profileDropdown) {
            if (isLoggedIn && userData) {
                signinBtn.style.display = 'none';
                profileDropdown.style.display = 'block';
                
                // Update user info in dropdown
                if (userName) userName.textContent = userData.name || 'User';
                if (userEmail) userEmail.textContent = userData.email || '';
            } else {
                signinBtn.style.display = 'inline-block';
                profileDropdown.style.display = 'none';
            }

            // Sign in button click handler
            signinBtn.addEventListener('click', () => {
                window.location.href = '/frontend/html/signup.html';
            });

            // Logout link click handler
            if (logoutLink) {
                logoutLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    localStorage.removeItem('isLoggedIn');
                    localStorage.removeItem('token');
                    localStorage.removeItem('userData');
                    window.location.href = '/frontend/html/login.html';
                });
            }
        }
    });
</script>

</body>
</html>
